function displayResults(e){var t=e.items.map(function(e,t){return`<div>\n                            <img class="video-thumbnail" \n                                 id="${e.id.videoId}"\n                                 src="${e.snippet.thumbnails.medium.url}" \n                                 alt="${e.snippet.description}" \n                                 data-index=${t}\n                                 data-video-id="${e.id.videoId}"\n                                 data-title="${e.snippet.title}"\n                                 data-channel-id="${e.snippet.channelId}"\n                                 data-channel-title="${e.snippet.channelTitle}"\n                                 data-published="${e.snippet.publishedAt}"\n                                 data-description="${e.snippet.description}"\n                                 data-live-content="${e.snippet.liveBroadcastContent}"\n                            >\n                            <label class="slide-label" for="${e.id.videoId}">${e.snippet.title}</label>\n                          </div>`});state.thumbnails=t,$(RESULTS).empty().append(t.join("")),$(RESULTS_CONTAINER).addClass("results-filter"),e.items.length>0?($(RESULTS).removeClass("hidden"),$(PAGE_CONTROLS_CONTAINER).removeClass("hidden")):($(RESULTS).addClass("hidden"),$(PAGE_CONTROLS_CONTAINER).addClass("hidden"))}function printToConsole(e){console.log(e)}function openLightbox(e,t){$(LIGHTBOX).removeClass("hidden"),updateCurrentVideo(e),loadCarousel(t),dynamicQueryLabelFontSize(USER_QUERY,'label[for="result-carousel"]')}function updateCurrentVideo(e){var t=e.attr("data-video-id"),s=e.attr("data-title"),i=e.attr("data-channel-title"),a=e.attr("data-channel-id"),n=(e.attr("data-description"),e.attr("data-published")),o=`https://www.youtube.com/embed/${t}?autoplay=1`,l=`https://www.youtube.com/channel/${a}`,r=new Date(Date.parse(n)),c=r.getMonth(),d=r.getFullYear();$(FRAME).attr("src",o),$(VIDEO_NAME).text(s),$(CHANNEL_NAME).text(i),$(CHANNEL_NAME).attr("href",l),$(MONTH).text(c),$(YEAR).text(d),setVideoDimensions()}function setVideoDimensions(e){var t="",s="";state._4k_filter||e||state.currentlyEnlarged?(t="1024px",s="576px",$(NEW_SEARCH_TIMES_LABEL).addClass("hidden"),$(ENLARGE_BTN).addClass("hidden"),$(MINIMIZE_BTN).addClass("hidden"),$('label[for="enlarge"]').addClass("hidden"),$(FRAME_CONTAINER).addClass("wide"),$(TIMES_ICON).addClass("hd-4k"),$(RESULT_CAROUSEL).addClass("hd-4k"),$(TIMES_ICON).addClass("hd-4k")):($(NEW_SEARCH_TIMES_LABEL).removeClass("hidden"),$(ENLARGE_BTN).removeClass("hidden"),$(MINIMIZE_BTN).removeClass("hidden"),$('label[for="enlarge"]').removeClass("hidden"),$(FRAME_CONTAINER).removeClass("wide"),$(TIMES_ICON).removeClass("hd-4k")),$(FRAME).css({width:t,height:s})}function closeLightbox(){$(FRAME).attr("src",""),$(LIGHTBOX).addClass("hidden"),$(VIDEO_THUMBNAIL).removeClass("small-video-thumbnail"),$(RESULT_CAROUSEL).removeClass("small-carousel"),$(".slick-track").removeClass("small-slick-track"),$(".slick-slide").removeClass("small-slick-slide")}function hideMinimizeIcon(){$(ENLARGE_BTN).removeClass("hidden"),$(MINIMIZE_BTN).addClass("hidden"),$('label[for="minimize"]').addClass("hidden"),$('label[for="enlarge"]').removeClass("hidden")}function hideEnlargeIcon(){$(ENLARGE_BTN).addClass("hidden"),$('label[for="enlarge"]').addClass("hidden"),$('label[for="minimize"]').removeClass("hidden")}function minimizeCarousel(){$(VIDEO_THUMBNAIL).addClass("small-video-thumbnail"),$(RESULT_CAROUSEL).addClass("small-carousel"),$(".slick-track").addClass("small-slick-track"),$(".slick-slide").addClass("small-slick-slide");var e=$(".responsive").slick("slickCurrentSlide");$(".responsive").slick("slickGoTo",e,!0)}function enlargeCarousel(){$(VIDEO_THUMBNAIL).removeClass("small-video-thumbnail"),$(RESULT_CAROUSEL).removeClass("small-carousel"),$(".slick-track").removeClass("small-slick-track"),$(".slick-slide").removeClass("small-slick-slide");var e=$(".responsive").slick("slickCurrentSlide");$(".responsive").slick("slickGoTo",e,!0)}function showUserQuery(){$(USER_QUERY_LABEL).removeClass("hidden"),$(SEARCH_RESULTS_SPAN).removeClass("hidden"),$(BROWSE_VIDEOS_SPAN).addClass("hidden")}function showBrowseVideos(){$(USER_QUERY_LABEL).removeClass("hidden"),$(SEARCH_RESULTS_SPAN).addClass("hidden"),$(BROWSE_VIDEOS_SPAN).removeClass("hidden")}function resetPageNumber(){state.currentPageNum=1,$(PAGE_NUM).text(state.currentPageNum),$(PREV_PAGE_BTN).addClass("toggled")}function loadCarousel(e){$(RESULT_CAROUSEL).html(state.thumbnails.join("")),initLightboxCarousel(e)}function initLightboxCarousel(e){$(".responsive").slick({dots:!0,arrows:!1,infinite:!1,speed:300,slidesToShow:3,slidesToScroll:3,initialSlide:e,variableWidth:!0,centerMode:!1,focusOnSelect:!1,responsive:[{breakpoint:1024,settings:{slidesToShow:3,slidesToScroll:2,infinite:!1,dots:!0}},{breakpoint:600,settings:{slidesToShow:2,slidesToScroll:2}},{breakpoint:480,settings:{slidesToShow:1,slidesToScroll:1}}]}),state.isSlick=!0}function unslickCarousel(){$(".responsive").slick("unslick"),state.isSlick=!1}function checkSizeHandler(){$(document).ready(function(){checkSize(),$(window).resize(checkSize)})}function checkSize(){Number($("body").css("width").slice(0,-2))<=416?state.mobile=!0:state.mobile=!1}function fixedSearchBar(){$(window).scroll(function(e){$(window).scrollTop()>$(window).height()?($(SEARCH_FORM).addClass("fixed-search-bar"),$(SEARCH_NAV).addClass("fixed-search-bar"),$(SEARCH_DROPDOWN_CONTENT).addClass("fixed"),$(FORM_CONTAINER).addClass("form-backdrop"),$(RESULTS+" div:first-of-type").addClass("mobile-results-adjust")):($(SEARCH_FORM).removeClass("fixed-search-bar"),$(SEARCH_NAV).removeClass("fixed-search-bar"),$(SEARCH_DROPDOWN_CONTENT).removeClass("fixed"),$(FORM_CONTAINER).removeClass("form-backdrop"),$(RESULTS+" div:first-of-type").removeClass("mobile-results-adjust"),$(USER_QUERY_LABEL).css({marginTop:""}))})}function dynamicQueryLabelFontSize(e,t){var s=$(e),i=$(t),a=0;for(s.css("font-size",""),i.css("line-height","");s.height()>i.height();)s.css("font-size",parseInt(s.css("font-size").slice(0,-2)-1)+"px"),a++;a&&i.css("line-height",s.css("font-size"))}function smoothScroll(e,t){var s=t?30:0;$("body, html").animate({scrollTop:$(e).offset().top+s},800)}function searchYoutubeHandler(){if(state._4k_filter)_4kVideoHandler(state.user_query);else{var e=state.hd_filter?"high":"any";searchYouTube(state.user_query,e,"any","relevance",function(e){state.search_results=e,$(USER_QUERY_LABEL).removeClass("hidden"),$(USER_QUERY).text(state.user_query),state.hd_filter?$(RESULTS_TYPE).text("HD"):$(RESULTS_TYPE).empty(),showUserQuery(),resetPageNumber(),displayResults(e),dynamicQueryLabelFontSize(SEARCH_RESULTS_SPAN,USER_QUERY_LABEL)},50)}}function searchByPageTokenHandler(e){var t=state.user_query,s="any";state.live_browse?searchLiveVideosToken("live",e,state.currentLiveCategory,function(e){state.search_results=e,displayResults(e)},50):(state.hd_filter?s="high":state._4k_filter?(t=`${state.user_query} 4K`,s="high"):state._4k_browse&&(t="4K",s="high"),searchYouTubePageToken(t,s,"any","relevance",e,function(e){state.search_results=e,displayResults(e)},50))}function liveVideoHandler(e){searchLiveVideos("live",e,function(e){state.search_results=e,resetPageNumber(),displayResults(e)},50)}function _4kVideoHandler(e){var t=arguments.length>0?`${e} 4K`:"4K";searchYouTube(t,"high","any","relevance",function(s){state.search_results=s,$(USER_QUERY_LABEL).removeClass("hidden"),$(RESULTS_TYPE).text("4K"),t.length>2&&($(USER_QUERY).text(e),showUserQuery()),resetPageNumber(),displayResults(s),dynamicQueryLabelFontSize(SEARCH_RESULTS_SPAN,USER_QUERY_LABEL)},50)}function searchYouTube(e,t,s,i,a,n){1==arguments.length?(a=printToConsole,n=50):4==arguments.length&&(n=50);var o=YOUTUBE_BASE_URL+"search/",l={key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet",q:e,type:"video",videoDefinition:t,videoType:s,order:i,maxResults:n};$.getJSON(o,l,a)}function searchYouTubePageToken(e,t,s,i,a,n,o){1==arguments.length?(n=printToConsole,o=50):4==arguments.length&&(o=50);var l=YOUTUBE_BASE_URL+"search/",r={key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet",q:e,type:"video",videoDefinition:t,videoType:s,order:i,pageToken:a,maxResults:o};$.getJSON(l,r,n)}function searchLiveVideos(e,t,s,i){2==arguments.length?(s=printToConsole,i=25):3==arguments.length&&(i=25);var a=YOUTUBE_BASE_URL+"search/",n={key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet",type:"video",eventType:e,maxResults:i};"all"!=t&&(n.videoCategoryId=t),$.getJSON(a,n,s)}function searchLiveVideosToken(e,t,s,i,a){3==arguments.length?(i=printToConsole,a=25):4==arguments.length&&(a=25);var n=YOUTUBE_BASE_URL+"search/",o={key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet",type:"video",eventType:e,pageToken:t,maxResults:a};"all"!=s&&(o.videoCategoryId=s),$.getJSON(n,o,i)}function searchPopularVideos(){var e=YOUTUBE_BASE_URL+"videos/";$.getJSON(e,{key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet",chart:"mostPopular"},printToConsole)}function searchVideoById(e,t){1==arguments.length&&(t=printToConsole);var s=YOUTUBE_BASE_URL+"videos",i={key:"AIzaSyCtbQ7eOypMc7OKBSGFs46aIL6Ozmmeygw",part:"snippet,contentDetails",id:e};$.getJSON(s,i,t)}function internetVideoArchive(){var e=new Date;e.setMonth(11);var t={Format:"mp4",Expires:e.toISOString(),format:"json","subscription-key":"66319ae0cd76409cb63e30a70eaad1c2"};$.getJSON("https://ee.iva-api.com/Videos/GetVideo/1",t,function(e){})}function scrollToSearchBar(){$(EXPLORE).on("click",function(e){e.preventDefault(),e.stopPropagation(),smoothScroll("main"),$(QUERY).focus()})}function scrollToTop(){$(TOP).on("click",function(e){e.preventDefault(),e.stopPropagation(),smoothScroll(".banner")})}function searchFormSubmit(){$(SEARCH_FORM).on("submit",function(e){e.preventDefault(),e.stopPropagation(),smoothScroll("main",!0),state.user_query=$(QUERY).val(),$(QUERY).val(""),state._4k_browse=!1,state.live_browse=!1,searchYoutubeHandler()})}function getNextPageClick(){$(NEXT_PAGE_BTN).on("click",function(e){e.preventDefault(),e.stopPropagation(),state.search_results.hasOwnProperty("nextPageToken")?(searchByPageTokenHandler(state.search_results.nextPageToken),$(PREV_PAGE_BTN).removeClass("toggled"),$(PAGE_NUM_WRAP).removeClass("hidden"),$(PAGE_NUM).text(++state.currentPageNum),$(this).hasClass("bottom")&&smoothScroll("main",!0)):$(NEXT_PAGE_BTN).addClass("toggled")})}function getPrevPageClick(){$(PREV_PAGE_BTN).on("click",function(e){e.preventDefault(),e.stopPropagation(),state.search_results.hasOwnProperty("prevPageToken")?(searchByPageTokenHandler(state.search_results.prevPageToken),$(PAGE_NUM).text(--state.currentPageNum),1==state.currentPageNum&&$(PREV_PAGE_BTN).addClass("toggled"),$(this).hasClass("bottom")&&smoothScroll("main",!0)):$(PREV_PAGE_BTN).addClass("toggled")})}function hdVideoFilterCheck(){$(HD_CHECKBOX).on("change",function(e){e.preventDefault(),e.stopPropagation(),state.hd_filter=!!this.checked})}function _4kVideoFilterCheck(){$(_4K_CHECKBOX).on("change",function(e){e.preventDefault(),e.stopPropagation(),state._4k_filter=!!this.checked})}function allowOnlyOneCheckbox(){$('input[type="checkbox"').on("change",function(e){if(e.preventDefault(),e.stopPropagation(),this.checked){$('input[type="checkbox"').not(this).prop("checked",!1);"_4k_filter"==$('input[type="checkbox"').not(this).attr("data-state-id")?state._4k_filter=!1:state.hd_filter=!1}})}function playVideoLightboxClick(){$("body").on("click",VIDEO_THUMBNAIL,function(e){e.preventDefault(),e.stopPropagation(),hideMinimizeIcon(),openLightbox($(this),$(this).attr("data-index"))}),$(".results").on("click",VIDEO_THUMBNAIL,function(e){e.preventDefault(),e.stopPropagation(),hideMinimizeIcon(),openLightbox($(this),$(this).attr("data-index"))})}function enlargeVideoClick(){$(ENLARGE_BTN).on("click",function(e){e.preventDefault(),e.stopPropagation(),state.currentlyEnlarged=!0,hideEnlargeIcon(),setVideoDimensions(state.currentlyEnlarged),minimizeCarousel(),$("label.slide-label").css("font-size","10px"),$(CHANNEL_OUTER_WRAP).css("margin-top","5px")})}function minimizeVideoClick(){$(MINIMIZE_BTN).on("click",function(e){e.preventDefault(),e.stopPropagation(),state.currentlyEnlarged=!1,hideMinimizeIcon(),setVideoDimensions(),enlargeCarousel(),$("label.slide-label").css("font-size",""),$(CHANNEL_OUTER_WRAP).css("margin-top","")})}function lightboxCarouselVideoClick(){$(LIGHTBOX).on("click",".slick-slide",function(e){e.preventDefault(),e.stopPropagation(),updateCurrentVideo($(this).children(VIDEO_THUMBNAIL))})}function closeLightboxClick(){$(document).on("click",MODAL_FILTER+", "+TIMES_ICON,function(e){e.preventDefault(),e.stopPropagation(),e.target!=$(MODAL_FILTER)[0]&&e.target!=$(TIMES_ICON)[0]||(unslickCarousel(),closeLightbox(),state.currentlyEnlarged=!1)})}function titleClick(){$(TITLE).on("click",function(e){e.preventDefault(),e.stopPropagation(),location.reload()})}function missionStatementClick(){$(MISSION).on("click",function(e){e.preventDefault(),e.stopPropagation(),smoothScroll(".banner"),$(SLOGAN).addClass("hidden"),$(MISSION_STATEMENT).removeClass("hidden"),$(DROPDOWN_CONTENT).removeClass("show-nav")})}function liveVideoClick(){live_channels.forEach(function(e){$(e.selector).on("click",function(t){t.preventDefault(),t.stopPropagation(),state.mobile?smoothScroll("main"):smoothScroll("main",!0),showBrowseVideos(),$(USER_QUERY_LABEL).css("line-height",""),$(BROWSE_VIDEOS_SPAN).text(e.text),$(USER_QUERY).empty(),$(USER_QUERY_WRAP).addClass("hidden"),state.live_browse=!0,state._4k_browse=!1,state.currentLiveCategory=e.category,liveVideoHandler(e.category),$(DROPDOWN_CONTENT).removeClass("show-nav"),$(SEARCH_DROPDOWN_CONTENT).removeClass("show-nav")})})}function _4kVideoClick(){$(_4K_NAV_ITEM).on("click",function(e){e.preventDefault(),e.stopPropagation(),state.mobile?smoothScroll("main"):smoothScroll("main",!0),showBrowseVideos(),$(USER_QUERY_LABEL).css("line-height",""),$(BROWSE_VIDEOS_SPAN).text("Browse 4K Videos"),$(USER_QUERY).empty(),$(USER_QUERY_WRAP).addClass("hidden"),state._4k_browse=!0,state.live_browse=!1,_4kVideoHandler(),$(DROPDOWN_CONTENT).removeClass("show-nav"),$(SEARCH_DROPDOWN_CONTENT).removeClass("show-nav")})}function mobileNavClicks(){$(HEADER_NAV).on("click",function(e){return e.preventDefault(),e.stopPropagation(),$(DROPDOWN_CONTENT).toggleClass("show-nav"),!1}),$(SEARCH_NAV).on("click",function(e){return e.preventDefault(),e.stopPropagation(),$(SEARCH_DROPDOWN_CONTENT).toggleClass("show-nav"),!1})}function slickEvents(){$(".responsive").on("edge",function(e,t,s){})}function navEventListeners(){mobileNavClicks(),titleClick(),_4kVideoClick(),liveVideoClick(),missionStatementClick()}function searchEventListeners(){searchFormSubmit(),fixedSearchBar(),dynamicQueryLabelFontSize(),hdVideoFilterCheck(),_4kVideoFilterCheck(),allowOnlyOneCheckbox(),getNextPageClick(),getPrevPageClick()}function utilitiesEventListeners(){scrollToSearchBar(),scrollToTop(),checkSizeHandler()}function lightboxEventListeners(){playVideoLightboxClick(),lightboxCarouselVideoClick(),closeLightboxClick(),enlargeVideoClick(),minimizeVideoClick()}var category_ids={film_animation:1,auto_vehicles:2,music:10,pets_animals:15,sports:17,short_movies:18,travel_events:19,gaming:20,blogging:21,people_blogs:22,comedy:23,entertainment:24,news_politics:25,howTo_style:26,edu:27,science_tech:28,movies:30,anime_animation:31,action_adventure:32,classics:33,docu:35,drama:36,family:37,horror:39,sci_fi_fantasy:40,thriller:41,shorts:42,shows:43,trailers:44},live_channels=[{selector:".live",text:"Live Channels",category:"all"},{selector:".live-all",text:"Live Channels",category:"all"},{selector:".live-music",text:"Live Music Channels",category:category_ids.music},{selector:".live-gaming",text:"Live Gaming Channels",category:category_ids.gaming},{selector:".live-sports",text:"Live Sports Channels",category:category_ids.sports},{selector:".live-animals",text:"Live Animal Channels",category:category_ids.pets_animals},{selector:".live-animation",text:"Live Animation Channels",category:category_ids.film_animation},{selector:".live-science",text:"Live Science/Tech Channels",category:category_ids.science_tech},{selector:".live-travel",text:"Live Travel Channels",category:category_ids.travel_events}],state={user_query:"",hd_filter:!1,_4k_filter:!1,_4k_browse:!1,live_browse:!1,currentLiveCategory:"",currentlyEnlarged:!1,search_results:[],thumbnails:[],cached_thumbnails_pages:[],currentPageNum:1,mobile:!1,isSlick:!1},TOP=".top",LANDING_CONTAINER="#landing-container",TITLE=".title",SLOGAN="#slogan",MISSION_STATEMENT="#mission-statement",EXPLORE_BTN="#explore-btn",EXPLORE=".explore",LIVE=".live",MISSION=".mission",_4K_NAV_ITEM=".nav-4k",HEADER_NAV=".header-nav",DROPDOWN_CONTENT=".dropdown-content",FORM_CONTAINER="#form-container",SEARCH_CONTAINER="#search-container",SEARCH_NAV=".search-nav",SEARCH_DROPDOWN_CONTENT=".search-dropdown-content",SEARCH_FORM=".search-form",HD_CHECKBOX="#hd-checkbox",_4K_CHECKBOX="#_4k-checkbox",QUERY="#query",USER_QUERY_LABEL="#query-label",USER_QUERY=".user-query",USER_QUERY_WRAP=".user-query-wrap",RESULTS_TYPE="#results-type",SEARCH_RESULTS_SPAN=".search-results-span",BROWSE_VIDEOS_SPAN=".browse-videos-span",RESULTS_CONTAINER=".results-container",RESULTS=".results",VIDEO_THUMBNAIL=".video-thumbnail",PAGE_CONTROLS_CONTAINER=".page-controls-container",NEXT_PAGE_BTN=".next-page-btn",PREV_PAGE_BTN=".prev-page-btn",PAGE_NUM=".page-num",PAGE_NUM_WRAP=".page-num-wrap",LIGHTBOX=".lightbox",NEW_SEARCH_TIMES_LABEL="#new-search-times-label",TIMES_ICON="#times",ENLARGE_BTN="#enlarge",MINIMIZE_BTN="#minimize",RESULT_CAROUSEL="#result-carousel",MODAL_FILTER=".modal-filter",FRAME_CONTAINER=".frame-container",FRAME="#frame",VIDEO_NAME="#video-name",CHANNEL_NAME="#channel-name",MONTH="#month",YEAR="#year",CHANNEL_OUTER_WRAP="#channel-outer-wrap",YOUTUBE_BASE_URL="https://www.googleapis.com/youtube/v3/";$(function(){navEventListeners(),utilitiesEventListeners(),searchEventListeners(),lightboxEventListeners()});